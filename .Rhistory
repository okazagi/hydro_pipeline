use_git()
install.packages("git")
fs::dir_create(c(
"data_raw",
"date_clean",
"R",
"scripts"
))
file.create("R/functions_import.R")
file.create("R/functions_clean.R")
use_git_ignore(c(
"data_raw/",
"data_clean/",
"_targets/",
".Renviron"
))
RStudio.Version()
install.packages("git")
library(usethis)
use_git_ignore(c(
"data_raw/",
"data_clean/",
"_targets/",
".Renviron"
))
install.packages("renv")
renv::init()
install.packages(c(
"targets",      # The pipeline manager
"tarchetypes",  # Helpers for targets
"arrow",        # Parquet file handling
"tidyverse",    # Data manipulation
"pins",         # Data versioning/storage
"reticulate",   # Python integration
"dataRetrieval",# USGS data
"snotelr"       # NRCS data (check if available on CRAN, otherwise use remotse)
))
renv::install("igraph")
renv::snapshot()
usethis::edit_r_environ()
library(usethis)
install.packages("usethis")
library(usethis)
usethis::edit_r_environ()
library(usethis)
usethis::use_github()
usethis::create_github_token()
gitcreds::gitcreds_set()
usethis::use_github()
usethis::use_github()
usethis::edit_r_environ()
library(dataRetrieval)
library(dataretrieval)
library(dataRetrieval)
renv::init()
renv::status()
renv::install("dataRetrieval")
?read_waterdata_ts_meta
library(dataRetrieval)
library(dataRetrieval)
library(dataRetrieval)
.libPaths()
renv::install("dataRetrieval")
renv::install("dataRetrieval")
library(dataRetrieval)
?read_waterdata_ts_meta
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- 392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- USGS-392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- CO - USGS-392116106443101
site <- CO-USGS-392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- USGS-392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- USGS-392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
meta_multi <- read_waterdata_ts_meta(monitoring_location_id = site,
parameter_code = c("330841_74207", "330840_74207", "330839_74207"),
properties = c("monitoring_location_id",
"parameter_code",
"begin",
"end",
"time_series_id"),
skipGeometry = TRUE)
library(dataRetrieval)
site <- USGS-392116106443101
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
site <- "USGS-392116106443101"
meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
library(tidyverse)
renv::install("tidyverse")
library(tidyverse)
view(meta_1)
View(meta_1)
View(meta_1)
source("scripts/retrieve_data.R")
source("scripts/usgs_retrieve.R")
# Set your parameters
my_site <- "USGS-392116106443101"
start <- "2023-06-28"
end   <- "2023-07-01" # Short range for testing
reudi <- retrieve_station_data(my_site, start, end)
head(reudi)
View(reudi)
View(meta_1)
# Set your parameters
my_site <- "USGS-392116106443101"
start <- "2023-06-28"
end   <- "2025-12-16" # Short range for testing
reudi <- retrieve_station_data(my_site, start, end)
View(reudi)
View(meta_1)
View(meta_1)
write_csv(reudi, "reudi_meta.csv")
write_csv(meta_1, "reudi_meta.csv")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
renv::status()
renv::activate()
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
renv::status()
renv::snapshot()
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
View(retrieve_station_data)
renv::status()
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
raw_file_path <- retrieve_station_data("USGS-12345678", "2023-06-29", "2025-12-17")
raw_file_path <- retrieve_station_data("USGS-12345678", "2023-06-29", "2025-12-17")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
View(retrieve_station_data)
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
raw_file_path <- retrieve_station_data("USGS-12345678", "2023-06-29", "2025-12-17")
source("~/hydro_pipeline/scripts/usgs_transform.R")
process_usgs_data("data_raw/USGS_12345678_raw.csv")
raw_file_path <- retrieve_station_data("USGS-392116106443101", "2023-06-29", "2025-12-17")
process_usgs_data("data_raw/USGS_392116106443101_raw.csv")
source("~/hydro_pipeline/scripts/usgs_transform.R")
retrieve_station_data("USGS-12345678", "2023-06-29", "2025-12-17")
retrieve_station_data("USGS-392116106443101", "2023-06-29", "2025-12-17")
process_usgs_data("data_raw/USGS_392116106443101_raw.csv")
site <- "USGS-391851106365401"
seller_meta_1 <- read_waterdata_ts_meta(monitoring_location_id = site)
View(seller_meta_1)
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/usgs_column_get.R")
source("~/hydro_pipeline/scripts/usgs_column_get.R")
source("~/hydro_pipeline/scripts/usgs_transform.R")
source("~/hydro_pipeline/scripts/usgs_retrieve.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/usgs_transform.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/usgs_transform.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/usgs_metadata.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/usgs_startdate.R")
source("~/hydro_pipeline/scripts/run_batch.R")
source("~/hydro_pipeline/scripts/run_batch.R")
install.packages("awdb")
renv::snapshot()
library(awdb)
renv::snapshot()
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
install.packages("here")
renv::snapshot()
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
library(sf)
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
source("~/hydro_pipeline/scripts/nwcc_metadata.R")
View(data)
View(data[[17]][[1]])
library(httr)
library(jsonlite)
# The reference-data endpoint
url <- "https://wcc.sc.egov.usda.gov/awdbRestApi/services/v1/references/elements"
# Fetch the data
response <- GET(url)
elements <- fromJSON(content(response, "text", encoding = "UTF-8"))
# View the codes and descriptions
# This creates a helpful lookup table
lookup_table <- elements[, c("elementCode", "name", "storedUnitCode")]
library(httr)
library(jsonlite)
# The reference-data endpoint
url <- "https://wcc.sc.egov.usda.gov/awdbRestApi/services/v1/references/elements"
# Fetch the data
response <- GET(url)
elements <- fromJSON(content(response, "text", encoding = "UTF-8"))
# View the codes and descriptions
# This creates a helpful lookup table
lookup_table <- elements[, c("elementCode", "name", "storedUnitCode")]
element_list <- get_references(reference_type = "elements")
View(element_list)
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_request.R")
source("~/hydro_pipeline/scripts/nwcc_transform.R")
usethis::edit_r_environ()
renv::status()
?renv::status
renv::snapshot()
source("~/hydro_pipeline/scripts/synoptic_request.R")
source("~/hydro_pipeline/scripts/synoptic_transform.R")
source("~/hydro_pipeline/scripts/synoptic_transform.R")
renv::snapshot()
